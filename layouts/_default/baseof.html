<!doctype html>
<html lang="{{ .Site.LanguageCode | default "en" }}">
    <head>

        {{ block "site/meta" . }}{{ partial "site/meta.html" . }}{{ end }}

        {{ range .AlternativeOutputFormats }}
            <link rel="{{ .Rel }}" type="{{ .MediaType.Type }}" href="{{ .Permalink | safeURL }}">
        {{ end }}

        {{ block "site/styles" . }}{{ partial "site/styles.html" . }}{{ end }}
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
            <!--
        <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
        <script src="https://alexandrebuffet.fr/codepen/slider/slick-animation.min.js"></script>
            -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.2.0/flickity.pkgd.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>

        {{ block "schema" . }}
        {{ end }}
        {{- $url := replace .Permalink ( printf "%s" ( "/" | absLangURL ) ) "" -}}
        {{- $url := replace .Permalink ( printf "%s" ( "/" | absLangURL ) ) "" -}}

        {{- $.Scratch.Add "path" ( "/" | absLangURL ) -}}
        {{- $.Scratch.Add "breadcrumb" (slice (dict "url" ( "/" | absLangURL ) "name" "home" "position" 1 )) -}}
        {{- range $index, $element := split $url "/" -}}
        {{- $.Scratch.Add "path" $element -}}
        {{- $.Scratch.Add "path" "/" -}}
        {{- if ne $element "" -}}
        {{- $.Scratch.Add "breadcrumb" (slice (dict "url" ($.Scratch.Get "path") "name" . "position" (add $index 2))) -}}
        {{- end -}}
        {{- end -}}
        <script type="application/ld+json">
            {
            "@context": "http://schema.org",
            "@type": "BreadcrumbList",
            "itemListElement": [
            {{ range $.Scratch.Get "breadcrumb" }}
                {{ if ne .position 1 }},
            {{ end }}
            {
                    "@type": "ListItem",
                    "position": {{ .position }},
                    "item": {
                    "@id": "{{ .url }}",
                    "name": "{{ .name }}"
                    }
                }{{ end }}]
            }
            </script>
    </head>
    <body>

        {{ block "header" . }}{{ partial "site/header.html" . }}{{ end }}

        <main class="site-main" role="main">

            {{ block "main" . }}{{ end }}

        </main>

        {{ block "footer" . }}{{ partial "site/footer.html" . }}{{ end }}

        {{ block "site/scripts" . }}{{ partial "site/scripts.html" . }}{{ end }}
    </body>
</html>